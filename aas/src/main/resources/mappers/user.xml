<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="user">

    <insert id="insert" parameterType="com.example.demo.user.UserDTO">
    INSERT INTO aas.tb_user (user_id, pwd, user_name, tel_num, post, addr1, addr2, email, snum)
    VALUES (#{user_id}, #{pwd}, #{user_name}, #{tel_num}, #{post}, #{addr1}, #{addr2}, #{email}, #{snum})
	</insert>
	
	 <select id="isUserIdDuplicate" parameterType="string" resultType="int">
	SELECT COUNT(*) FROM aas.tb_user WHERE user_id = #{user_id}
	</select>
	
	<select id="isEmailDuplicate" parameterType="string" resultType="int">
    SELECT COUNT(*) FROM aas.tb_user WHERE email = #{email}
	</select>
	
	<select id="login" parameterType="string" resultType="com.example.demo.user.UserDTO">
    SELECT * FROM aas.tb_user WHERE user_id = #{user_id}
	</select>
	
    <select id="getUserById" parameterType="string" resultType="com.example.demo.user.UserDTO">
    SELECT user_id, user_name, auth, level_name, u_point FROM aas.tb_user WHERE user_id = #{user_id}
   </select>
    

    
</mapper>