<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="show">
    <insert id="insert" parameterType="java.util.Map">
 		insert into tb_show(show_id, user_id, hall_id, title, s_cast, genre, start_day, end_day, runningtime, viewing_age, notice_img, dis_img, event_img, detail_img, poster)
 		values(#{show_id}, #{user_id}, #{hall_id}, #{title}, #{s_cast}, #{genre}, #{start_day}, #{end_day}, #{runningtime}, #{viewing_age}, #{notice_img}, #{dis_img}, #{event_img}, #{detail_img}, #{poster})
 	</insert>
 	
 	<select id="list" resultType="java.lang.String">
	    SELECT show_id from tb_show where show_id like '%SHOW%'
	</select>
	
	<select id="hallsearch" resultType="java.util.Map" parameterType="java.util.Map">
	    SELECT hall_id, h_name, miniHall, addr 
	    FROM tb_hall 
	    WHERE h_name LIKE #{h_name}
	    LIMIT #{offset}, #{limit}
	</select>
	
	<select id="hallsearchCount" resultType="int" parameterType="java.util.Map">
	    SELECT COUNT(*) 
	    FROM tb_hall 
	    WHERE h_name LIKE #{h_name}
	</select>
	
	
	<select id="showlist" resultType="java.util.HashMap" parameterType="String">
	    SELECT * FROM tb_show WHERE user_id = #{keyword}
	</select>
</mapper>